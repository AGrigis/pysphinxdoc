<!doctype html>
<html lang="en">

    <head>

		<!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

        <title>pysphinxdoc</title>
        
        <!-- CSS -->
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500&display=swap">
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
        <link rel="stylesheet" href="../../_static/css/jquery.mCustomScrollbar.min.css">
        <link rel="stylesheet" href="../../_static/css/animate.css">
        <link rel="stylesheet" href="../../_static/css/style.css">
        <link rel="stylesheet" href="../../_static/css/jquery.mosaic.css">
        <link rel="stylesheet" href="../../_static/sg_gallery.css">
        <link rel="stylesheet" href="../../_static/css/media-queries.css">
        <link rel="stylesheet" href="../../_static/css/pygment.css">

        <!-- Favicon and touch icons -->
        <link rel="shortcut icon" href="../../_static/ico/favicon.png">
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="../../_static/ico/apple-touch-icon-144-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="../../_static/ico/apple-touch-icon-114-precomposed.png">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="../../_static/ico/apple-touch-icon-72-precomposed.png">
        <link rel="apple-touch-icon-precomposed" href="../../_static/ico/apple-touch-icon-57-precomposed.png">

    </head>

    <body>

		<!-- Wrapper -->
    	<div class="wrapper">

			<!-- Sidebar -->
			<nav class="sidebar">
				
				<!-- close sidebar menu -->
				<div class="dismiss">
					<i class="fas fa-arrow-left"></i>
				</div>
				
				<!-- <div class="logo"">
					<h3><a href="../../index.html">Sidebar Menu</a></h3>
				</div> -->

                <!-- info setup -->
                    <p class="doc-version">
                        This documentation is for pysphinxdoc <strong>version 1.1.3</strong>
                    </p>
                <p class="citing">
                    If you use the software, please do not hesitate to 
                    <a &mdash; <a href="https://github.com/AGrigis/pysphinxdoc">
                    Report a Bug</a>.
                </p>
				
                <!-- links -->
                
                
				<ul class="list-unstyled menu-elements">
					<li class="active">
						<a href="../../index.html"><i class="fas fa-home"></i> Home</a>
					</li>
					<li>
						<a href="../../generated/installation.html"><i class="fas fa-cog"></i> Installation</a>
					</li>
					<li>
						<a href="../../auto_gallery/index.html"><i class="fas fa-eye"></i> Gallery</a>
					</li>
					<li>
						<a href="../../generated/documentation.html"><i class="fas fa-pencil-alt"></i> API documentation</a>
					</li>
					<li>
						<a href="../../generated/search.html"><i class="fas fa-search"></i> Search</a>
					</li>
					<!-- <li>
						<a href="https://github.com/AGrigis/pysphinxdoc"><i class="fas fa-external-link-alt"></i> PYSPHINXDOC</a>
					</li> -->
					<!-- <li>
						<a href="#otherSections" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle" role="button" aria-controls="otherSections">
							<i class="fas fa-sync"></i>Sections Shortcuts
						</a>
						<ul class="collapse list-unstyled" id="otherSections">
                            
                            
                            <li>API</li>
                            <li><a href="../../generated/pysphinxdoc.html">pysphinxdoc</a></li>
						</ul>
					</li> -->
				</ul>
				
                <!-- go top page -->
				<!-- <div class="to-top">
					<a class="btn btn-primary btn-customized-3" href="#" role="button">
	                    <i class="fas fa-arrow-up"></i> Top
	                </a>
				</div> -->
			
                <!-- change color -->
				<!-- <div class="dark-light-buttons">
					<a class="btn btn-primary btn-customized-4 btn-customized-dark" href="#" role="button">Dark</a>
					<a class="btn btn-primary btn-customized-4 btn-customized-light" href="#" role="button">Light</a>
				</div> -->
			
			</nav>
			<!-- End sidebar -->
			
			<!-- Dark overlay -->
    		<div class="overlay"></div>

			<!-- Content -->
			<div class="content">
			
				<!-- open sidebar menu -->
				<a class="btn btn-primary btn-customized open-menu" href="#" role="button">
                    <i class="fas fa-align-left"></i> <span>Menu</span>
                </a>

		        <!-- Top content -->
		        <div class="top-content section-container" id="top-content">
			        <div class="container">
			            <div class="row">
                            <div class="col-md-3 section-5-box banner-logo">
                                <img alt="Logo" src="../../_static/pysphinxdoc.png">
                            </div>
			                <div class="col-md-7 section-5-box">
			                	<h1 class="wow fadeIn">    <p>Python package documentation generation tool.</p></h1>
			                </div>
			            </div>
			        </div>
		        </div>
                    
                    <div class="document">
                        <h1>Source code for pysphinxdoc.docgen</h1><div class='divider-1 wow fadeInUp' style='margin-top: -20px;'><span></span></div><div class="highlight"><pre>
<span></span><span class="c1">##########################################################################</span>
<span class="c1"># pysphinxdoc - Copyright (C) AGrigis, 2016 - 2021</span>
<span class="c1"># Distributed under the terms of the CeCILL-B license, as published by</span>
<span class="c1"># the CEA-CNRS-INRIA. Refer to the LICENSE file or to</span>
<span class="c1"># http://www.cecill.info/licences/Licence_CeCILL-B_V1-en.html</span>
<span class="c1"># for details.</span>
<span class="c1">##########################################################################</span>

<span class="sd">&quot;&quot;&quot; Provide a &#39;DocHelperWriter&#39; class to generate the Sphinx complient</span>
<span class="sd">documentation of a module.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># System import</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">os</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">sys</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">re</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">shutil</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">warnings</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">textwrap</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">collections</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">pprint</span><span class="w"> </span><span class="kn">import</span> <span class="n">pprint</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">docutils.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">publish_parts</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">importlib</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">datetime</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">inspect</span>

<span class="c1"># Package import</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">examplify</span>


<div class="viewcode-block" id="DocHelperWriter">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter">[docs]</a>
<span class="k">class</span><span class="w"> </span><span class="nc">DocHelperWriter</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot; A basic class to create the Sphinx complient documentation of a module.</span>

<span class="sd">    .. note::</span>

<span class="sd">        Please use directly the ``sphinxdoc`` script.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">mandatory_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;NAME&quot;</span><span class="p">:</span> <span class="s2">&quot;the name of the module&quot;</span><span class="p">,</span>
        <span class="s2">&quot;DESCRIPTION&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;the module short description that will be displayed &quot;</span>
                        <span class="s2">&quot;in the banner&quot;</span><span class="p">),</span>
        <span class="s2">&quot;SUMMARY&quot;</span><span class="p">:</span> <span class="s2">&quot;a summary displayed with the carousel&quot;</span><span class="p">,</span>
        <span class="s2">&quot;LONG_DESCRIPTION&quot;</span><span class="p">:</span> <span class="s2">&quot;the index page content&quot;</span><span class="p">,</span>
        <span class="s2">&quot;URL&quot;</span><span class="p">:</span> <span class="s2">&quot;the module URL&quot;</span><span class="p">,</span>
        <span class="s2">&quot;AUTHOR&quot;</span><span class="p">:</span> <span class="s2">&quot;the author of the module&quot;</span><span class="p">,</span>
        <span class="s2">&quot;AUTHOR_EMAIL&quot;</span><span class="p">:</span> <span class="s2">&quot;the author e-mail&quot;</span><span class="p">,</span>
        <span class="s2">&quot;__version__&quot;</span><span class="p">:</span> <span class="s2">&quot;the module version&quot;</span>
    <span class="p">}</span>
    <span class="n">optional_fields</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;EXTRANAME&quot;</span><span class="p">:</span> <span class="p">(</span><span class="s2">&quot;a name that will be displayed in the last element &quot;</span>
                      <span class="s2">&quot;of the navbar (default &#39;PYSPHINXDOC&#39;)&quot;</span><span class="p">),</span>
        <span class="s2">&quot;EXTRAURL&quot;</span><span class="p">:</span> <span class="s2">&quot;the associated URL (default the pySphinxDoc URL)&quot;</span>
    <span class="p">}</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path_module</span><span class="p">,</span> <span class="n">outdir</span><span class="p">,</span> <span class="n">module_names</span><span class="p">,</span> <span class="n">root_module_name</span><span class="p">,</span>
                 <span class="n">generate_examples</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">rst_extension</span><span class="o">=</span><span class="s2">&quot;.rst&quot;</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Initialize the DocHelperWriter class.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        path_module : str (mandatory)</span>
<span class="sd">            the path to the module to be documented.</span>
<span class="sd">        outdir : str (mandatory)</span>
<span class="sd">            the path where the documentation will be generated. Expect a</span>
<span class="sd">            &#39;$outdir/source/_static&#39; folder containing a logo named</span>
<span class="sd">            &#39;$name_module.png&#39; and an &#39;carousel&#39; subfolder containing a list</span>
<span class="sd">            of images to be displayed in the banner.</span>
<span class="sd">        module_names : list of str (mandatory)</span>
<span class="sd">            List of modules defined in the project (ie. the output of</span>
<span class="sd">            &#39;setuptools.find_packages&#39;)</span>
<span class="sd">        root_module_name : str (mandatory)</span>
<span class="sd">            The name of the python package to be documented.</span>
<span class="sd">        generate_examples: bool (optional, default False)</span>
<span class="sd">            If set, generates the gallery examples from the package scripts.</span>
<span class="sd">        rst_extension : string (optional)</span>
<span class="sd">            Extension for reST files, default &#39;.rst&#39;.</span>
<span class="sd">        verbose : int (optional)</span>
<span class="sd">            The verbosity level, default 0.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Load the module to be documented</span>
        <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">root_module_name</span><span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">root_module_name</span><span class="p">]</span>

        <span class="c1"># Generate destination folders</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">outdir</span> <span class="o">=</span> <span class="n">outdir</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">outdir</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path_module</span><span class="p">,</span> <span class="s2">&quot;doc&quot;</span><span class="p">,</span> <span class="s2">&quot;source&quot;</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">staticdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">,</span> <span class="s2">&quot;_static&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">,</span> <span class="s2">&quot;generated&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layoutdir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">,</span> <span class="s2">&quot;_templates&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">carouselpath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">staticdir</span><span class="p">,</span> <span class="s2">&quot;carousel&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">modulepath</span> <span class="o">=</span> <span class="n">path_module</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">generate_examples</span> <span class="o">=</span> <span class="n">generate_examples</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">infopath</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="s2">&quot;info.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">logo</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">staticdir</span><span class="p">,</span> <span class="n">root_module_name</span> <span class="o">+</span> <span class="s2">&quot;.png&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">infopath</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;&#39;</span><span class="si">{0}</span><span class="s2">&#39; is not a valid description file.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">infopath</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logo</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;Specify a &#39;</span><span class="si">{0}</span><span class="s2">&#39; logo file.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">logo</span><span class="p">))</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span>
                <span class="s2">&quot;&#39;</span><span class="si">{0}</span><span class="s2">&#39; already created, can&#39;t delete it automatically. Use &quot;</span>
                <span class="s2">&quot;the generated Makefile to generate the documentation using &quot;</span>
                <span class="s2">&quot;the &#39;make raw-html&#39; command or to regenerated the &quot;</span>
                <span class="s2">&quot;documentation using the &#39;make html&#39; command.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">))</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">carouselpath</span><span class="p">):</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> is not a valid folder.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">staticdir</span><span class="p">))</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">)</span>
        <span class="n">os</span><span class="o">.</span><span class="n">mkdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layoutdir</span><span class="p">)</span>

        <span class="c1"># Load the module description</span>
        <span class="n">release_info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">infopath</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
            <span class="n">exec</span><span class="p">(</span><span class="n">open_file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">release_info</span><span class="p">)</span>
        <span class="n">errors</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">mandatory_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">release_info</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="n">warns</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">optional_fields</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">release_info</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">errors</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;Missing mandatory fields </span><span class="si">{0}</span><span class="s2"> in &#39;</span><span class="si">{1}</span><span class="s2">&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">errors</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">infopath</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">warns</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span><span class="s2">&quot;Missing optional fields </span><span class="si">{0}</span><span class="s2"> in &#39;</span><span class="si">{1}</span><span class="s2">&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">warns</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">infopath</span><span class="p">))</span>

        <span class="c1"># Instance parameters</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span> <span class="o">=</span> <span class="n">module_names</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module_members</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rst_extension</span> <span class="o">=</span> <span class="n">rst_extension</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span> <span class="o">=</span> <span class="n">root_module_name</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;*&#39;</span><span class="p">,</span> <span class="s1">&#39;=&#39;</span><span class="p">,</span> <span class="s1">&#39;-&#39;</span><span class="p">,</span> <span class="s1">&#39;~&#39;</span><span class="p">,</span> <span class="s1">&#39;^&#39;</span><span class="p">]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">=</span> <span class="n">verbose</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">module</span> <span class="o">=</span> <span class="n">module</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span> <span class="o">=</span> <span class="n">release_info</span>

<div class="viewcode-block" id="DocHelperWriter.title_for">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.title_for">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">title_for</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">title</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Create a title from a underscore-separated string.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        title: str (mandatory)</span>
<span class="sd">            the string to format.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        out: str</span>
<span class="sd">            the formated string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">title</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;_&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">)</span><span class="o">.</span><span class="n">capitalize</span><span class="p">()</span></div>


<div class="viewcode-block" id="DocHelperWriter.rst2html">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.rst2html">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">rst2html</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rst</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Convert a reST formated string to a HTML string.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        rst: str (mandatory)</span>
<span class="sd">            the rst formated string.</span>
<span class="sd">        ident: int</span>
<span class="sd">            the number of blank prefix.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        out: str</span>
<span class="sd">            the html formated string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">rst</span> <span class="o">=</span> <span class="n">textwrap</span><span class="o">.</span><span class="n">dedent</span><span class="p">(</span><span class="n">rst</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">parts</span> <span class="o">=</span> <span class="n">publish_parts</span><span class="p">(</span><span class="n">rst</span><span class="p">,</span> <span class="n">writer_name</span><span class="o">=</span><span class="s2">&quot;html&quot;</span><span class="p">)</span>
        <span class="n">html</span> <span class="o">=</span> <span class="n">parts</span><span class="p">[</span><span class="s2">&quot;body_pre_docinfo&quot;</span><span class="p">]</span> <span class="o">+</span> <span class="n">parts</span><span class="p">[</span><span class="s2">&quot;body&quot;</span><span class="p">]</span>
        <span class="n">html</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span> <span class="o">+</span> <span class="n">elem</span> <span class="k">for</span> <span class="n">elem</span> <span class="ow">in</span> <span class="n">html</span><span class="o">.</span><span class="n">splitlines</span><span class="p">()])</span>
        <span class="k">return</span> <span class="n">html</span></div>


<div class="viewcode-block" id="DocHelperWriter.format_with_dict">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.format_with_dict">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">format_with_dict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">string</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Use regular expressions to replace % by %% where % is not followed</span>
<span class="sd">        by (.</span>
<span class="sd">        Avoid &quot;not enough arguments for format string&quot; errors.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        string : str</span>
<span class="sd">            a string to be formated.</span>
<span class="sd">        dictionary : dict</span>
<span class="sd">            a mapping used to edit the input string.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;%([^\(])&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">\1&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
        <span class="n">string</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;%$&quot;</span><span class="p">,</span> <span class="sa">r</span><span class="s2">&quot;</span><span class="si">%%</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">string</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">string</span> <span class="o">%</span> <span class="n">dictionary</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_from_template">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_from_template">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_from_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">out_file</span><span class="p">,</span> <span class="n">template_file</span><span class="p">,</span> <span class="n">template_info</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Edit/save a template file.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        out_file : str</span>
<span class="sd">            the location where the edited template file content is written.</span>
<span class="sd">        template_file : str</span>
<span class="sd">            the location of the template file.</span>
<span class="sd">        template_info : dict</span>
<span class="sd">            a mapping used to edit the template content.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Generating file </span><span class="si">{0}</span><span class="s2"> from </span><span class="si">{1}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="n">out_file</span><span class="p">,</span> <span class="n">template_file</span><span class="p">))</span>
            <span class="n">pprint</span><span class="p">(</span><span class="n">template_info</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">out_file</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">open_file</span><span class="o">.</span><span class="n">write</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">template_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">template_open_file</span><span class="p">:</span>
                <span class="n">s</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">format_with_dict</span><span class="p">(</span><span class="n">template_open_file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span>
                                          <span class="n">template_info</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="n">s</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_sphinx_config">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_sphinx_config">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_sphinx_config</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate the Sphinx configuration.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating configuration in </span><span class="si">{0}</span><span class="s2">...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">))</span>

        <span class="c1"># Create config maping</span>
        <span class="n">conf_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;MODULE&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">,</span>
            <span class="s2">&quot;YEAR&quot;</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">year</span><span class="p">),</span>
            <span class="s2">&quot;AUTHOR&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;AUTHOR&quot;</span><span class="p">],</span>
            <span class="s2">&quot;AUTHOR_EMAIL&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;AUTHOR_EMAIL&quot;</span><span class="p">],</span>
            <span class="s2">&quot;VERSION&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;__version__&quot;</span><span class="p">],</span>
            <span class="s2">&quot;SRCDIR&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">,</span>
            <span class="s2">&quot;PYSPHINXDOCDIR&quot;</span><span class="p">:</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span>
            <span class="s2">&quot;NAME&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;NAME&quot;</span><span class="p">],</span>
            <span class="s2">&quot;MODULE_NAME&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">,</span>
            <span class="s2">&quot;MODULE_PATH&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">modulepath</span><span class="p">,</span>
            <span class="s2">&quot;OUTDIR&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">outdir</span>
        <span class="p">}</span>

        <span class="c1"># Start writting the Makefile</span>
        <span class="n">template_make_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;Makefile&quot;</span><span class="p">)</span>
        <span class="n">make_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">),</span> <span class="s2">&quot;Makefile&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_from_template</span><span class="p">(</span><span class="n">make_file</span><span class="p">,</span> <span class="n">template_make_file</span><span class="p">,</span> <span class="n">conf_info</span><span class="p">)</span>

        <span class="c1"># Start writting the conf</span>
        <span class="n">template_conf_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;conf.py&quot;</span><span class="p">)</span>
        <span class="n">conf_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">,</span> <span class="s2">&quot;conf.py&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_from_template</span><span class="p">(</span><span class="n">conf_file</span><span class="p">,</span> <span class="n">template_conf_file</span><span class="p">,</span> <span class="n">conf_info</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_layout">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_layout">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate the Sphinx layout.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating layout in </span><span class="si">{0}</span><span class="s2">...&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layoutdir</span><span class="p">))</span>

        <span class="c1"># Top selection panel</span>
        <span class="n">indices</span> <span class="o">=</span> <span class="p">[</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;&lt;li&gt;&lt;a href=&quot;{{{{ pathto(&#39;generated/{0}&#39;) }}}}&quot;&gt;&quot;&quot;&quot;</span>
<span class="w">            </span><span class="sd">&quot;&quot;&quot;{1}&lt;/a&gt;&lt;/li&gt;&quot;&quot;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">title_for</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">]</span>

        <span class="c1"># Carousel items</span>
        <span class="n">carousel_items</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">carouselpath</span><span class="p">)]</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">carousel_items</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">IOError</span><span class="p">(</span><span class="s2">&quot;No data found in folder &#39;</span><span class="si">{0}</span><span class="s2">&#39;.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">carouselpath</span><span class="p">))</span>
        <span class="n">images</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">item</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">carousel_items</span><span class="p">):</span>
            <span class="n">images</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;&lt;img src=&quot;{{ pathto(&#39;_static/carousel/%s&#39;, 1) }}&quot;&quot;&quot;</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;&quot;&gt;&quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">:</span>
            <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;&lt;li&gt;&lt;a href=&quot;{{pathto(&#39;generated/%s&#39;)}}&quot;&gt;&quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">item</span> <span class="o">+</span>
<span class="w">                </span><span class="sd">&quot;&quot;&quot;%s&lt;/a&gt;&lt;/li&gt;&quot;&quot;&quot;</span> <span class="o">%</span> <span class="n">item</span><span class="p">)</span>
        <span class="n">links</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;LINKS&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="p">{})</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">links</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;&lt;li&gt;&lt;a href=&#39;</span><span class="si">{1}</span><span class="s2">&#39;&gt;</span><span class="si">{0}</span><span class="s2">&lt;/a&gt;&lt;/li&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">val</span><span class="p">))</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">links</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">links</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;&lt;li&gt;LINKS&lt;/li&gt;&quot;</span><span class="p">)</span>

        <span class="c1"># Create layout maping</span>
        <span class="n">pysphinxdoc_info</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">info_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;info.py&quot;</span><span class="p">)</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">info_file</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
            <span class="n">exec</span><span class="p">(</span><span class="n">open_file</span><span class="o">.</span><span class="n">read</span><span class="p">(),</span> <span class="n">pysphinxdoc_info</span><span class="p">)</span>
        <span class="n">layout_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;NAME_LOWER&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">,</span>
            <span class="s2">&quot;NAME_UPPER&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span>
            <span class="s2">&quot;INDEX&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">indices</span><span class="p">),</span>
            <span class="s2">&quot;CAROUSEL_IMAGES&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">images</span><span class="p">),</span>
            <span class="s2">&quot;DESCRIPTION&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst2html</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;DESCRIPTION&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;SUMMARY&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst2html</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;SUMMARY&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;LOGO&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">,</span>
            <span class="s2">&quot;URL&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;URL&quot;</span><span class="p">],</span>
            <span class="s2">&quot;EXTRAURL&quot;</span><span class="p">:</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;EXTRAURL&quot;</span><span class="p">)</span> <span class="ow">or</span>
                         <span class="n">pysphinxdoc_info</span><span class="p">[</span><span class="s2">&quot;URL&quot;</span><span class="p">]),</span>
            <span class="s2">&quot;EXTRANAME&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;EXTRANAME&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;PYSPHINXDOC&quot;</span><span class="p">,</span>
            <span class="s2">&quot;SECTIONS&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">sections</span><span class="p">),</span>
            <span class="s2">&quot;LINKS&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">links</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="c1"># Start writting the layout</span>
        <span class="n">template_layout_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;layout.html&quot;</span><span class="p">)</span>
        <span class="n">layout_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layoutdir</span><span class="p">,</span> <span class="s2">&quot;layout.html&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_from_template</span><span class="p">(</span><span class="n">layout_file</span><span class="p">,</span> <span class="n">template_layout_file</span><span class="p">,</span>
                                 <span class="n">layout_info</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_index">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_index">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate the index page.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating index in </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">))</span>

        <span class="c1"># Create correspondance mapping</span>
        <span class="n">index_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;MODULE&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">,</span>
            <span class="s2">&quot;DESCRIPTION&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;LONG_DESCRIPTION&quot;</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="c1"># Start writting the index</span>
        <span class="n">template_index_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;index.rst&quot;</span><span class="p">)</span>
        <span class="n">index_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">srcdir</span><span class="p">,</span> <span class="s2">&quot;index.rst&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_from_template</span><span class="p">(</span><span class="n">index_file</span><span class="p">,</span> <span class="n">template_index_file</span><span class="p">,</span> <span class="n">index_info</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_installation">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_installation">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_installation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">pypi_index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate the installation recommendations.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        pypi_index: str default None</span>
<span class="sd">            set the pypi index of the module: useful if different from the</span>
<span class="sd">            module name.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating installation in </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">))</span>

        <span class="c1"># Generate title</span>
        <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Installing ``</span><span class="si">{0}</span><span class="s2">``&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
        <span class="n">title</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">),</span> <span class="n">title</span><span class="p">,</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">)]</span>

        <span class="c1"># Create correspondance mapping</span>
        <span class="n">install_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s2">&quot;NAME_LOWER&quot;</span><span class="p">:</span> <span class="n">pypi_index</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">,</span>
            <span class="s2">&quot;NAME_UPPER&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="o">.</span><span class="n">upper</span><span class="p">(),</span>
            <span class="s2">&quot;TITLE&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">title</span><span class="p">),</span>
            <span class="s2">&quot;URL&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;URL&quot;</span><span class="p">]</span>
        <span class="p">}</span>

        <span class="c1"># Start writting the installation</span>
        <span class="n">template_install_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="vm">__file__</span><span class="p">),</span> <span class="s2">&quot;resources&quot;</span><span class="p">,</span> <span class="s2">&quot;installation.rst&quot;</span><span class="p">)</span>
        <span class="n">install_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">,</span> <span class="s2">&quot;installation.rst&quot;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">write_from_template</span><span class="p">(</span><span class="n">install_file</span><span class="p">,</span> <span class="n">template_install_file</span><span class="p">,</span>
                                 <span class="n">install_info</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_gallery">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_gallery">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_gallery</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Copy the example folder in the package to be documentated.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">example_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modulepath</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">)</span>
        <span class="n">doc_example_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">outdir</span><span class="p">,</span> <span class="s2">&quot;examples&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">example_dir</span><span class="p">):</span>
            <span class="n">shutil</span><span class="o">.</span><span class="n">copytree</span><span class="p">(</span><span class="n">example_dir</span><span class="p">,</span> <span class="n">doc_example_dir</span><span class="p">)</span>
        <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_examples</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isdir</span><span class="p">(</span><span class="n">doc_example_dir</span><span class="p">):</span>
                <span class="n">os</span><span class="o">.</span><span class="n">makedirs</span><span class="p">(</span><span class="n">doc_example_dir</span><span class="p">)</span>
            <span class="n">index</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">doc_example_dir</span><span class="p">,</span> <span class="s2">&quot;README.txt&quot;</span><span class="p">)</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">openfile</span><span class="p">:</span>
                <span class="n">header</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2"> usage examples&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">header</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;=&quot;</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">header</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;.. contents:: **Contents**</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    :local:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;    :depth: 1</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;Tutorial examples</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">openfile</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;-&quot;</span> <span class="o">*</span> <span class="mi">17</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">script</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">release_info</span><span class="p">[</span><span class="s2">&quot;SCRIPTS&quot;</span><span class="p">]:</span>
                <span class="n">script_file</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">modulepath</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>
                <span class="n">basename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">script_file</span><span class="p">)</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">basename</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">):</span>
                    <span class="n">basename</span> <span class="o">+=</span> <span class="s2">&quot;.py&quot;</span>
                <span class="n">dstfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">doc_example_dir</span><span class="p">,</span> <span class="n">basename</span><span class="p">)</span>
                <span class="n">examplify</span><span class="p">(</span><span class="n">script_file</span><span class="p">,</span> <span class="n">dstfile</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;No gallery examples provided. Please generate this folder or &quot;</span>
                <span class="s2">&quot;use the &#39;-e&#39; option.&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_documentation_index">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_documentation_index">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_documentation_index</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate the documentation index.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating documentation index in </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">))</span>

        <span class="c1"># Get full output filename path</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">,</span>
                            <span class="s2">&quot;documentation&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst_extension</span><span class="p">)</span>

        <span class="c1"># Start writing the documentation index</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Generating file </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">open_file</span><span class="o">.</span><span class="n">write</span>

            <span class="c1"># Header</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. AUTO-GENERATED FILE -- DO NOT EDIT!</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;API documentation of ``</span><span class="si">{0}</span><span class="s2">``</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="n">w</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Recommandations</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;This is the classes and functions reference in </span><span class="si">{0}</span><span class="s2">. Please &quot;</span>
              <span class="s2">&quot;refer to the gallery for further details, as the class and &quot;</span>
              <span class="s2">&quot;function raw specifications may not be enough to give full &quot;</span>
              <span class="s2">&quot;guidelines on their uses.</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">))</span>

            <span class="c1"># Get modules content</span>
            <span class="n">content</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_members</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">data</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="n">content</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
                    <span class="k">continue</span>
                <span class="n">_content</span> <span class="o">=</span> <span class="p">[]</span>
                <span class="k">for</span> <span class="n">key1</span><span class="p">,</span> <span class="n">item1</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="k">for</span> <span class="n">key2</span><span class="p">,</span> <span class="n">item2</span> <span class="ow">in</span> <span class="n">item1</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="p">(</span><span class="n">rpath</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">item2</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">_content</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">path</span><span class="p">,</span> <span class="n">rpath</span><span class="p">))</span>
                <span class="n">content</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">_content</span>

            <span class="c1"># Main modules</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. raw:: html</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;!-- Block section --&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;container-fluid&#39;&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;float-left&#39;&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;row&#39;&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">:</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">module_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">):</span>
                    <span class="k">continue</span>
                <span class="n">w</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_documentation_index_entry</span><span class="p">(</span><span class="n">module_name</span><span class="p">))</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;div class=&#39;row&#39;&gt;&quot;</span><span class="p">)</span>
                <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Plugin modules</span>
            <span class="n">all_plugins</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="n">module_name</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
                               <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">])</span>
            <span class="n">all_plugins</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="p">)</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_plugins</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. raw:: html</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;h2&gt;Linked plugins&lt;/h2&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">plugin_name</span> <span class="ow">in</span> <span class="n">all_plugins</span><span class="p">:</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. raw:: html</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;!-- Block section --&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;container-fluid&#39;&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;float-left&#39;&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;row&#39;&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">cnt</span> <span class="o">=</span> <span class="mi">0</span>
                <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">:</span>
                    <span class="k">if</span> <span class="ow">not</span> <span class="n">module_name</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">plugin_name</span><span class="p">):</span>
                        <span class="k">continue</span>
                    <span class="n">w</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_documentation_index_entry</span><span class="p">(</span><span class="n">module_name</span><span class="p">))</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">cnt</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;&quot;</span><span class="p">)</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;div class=&#39;row&#39;&gt;&quot;</span><span class="p">)</span>
                    <span class="n">cnt</span> <span class="o">+=</span> <span class="mi">1</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">    &lt;/div&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Add the list of modules</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. rst-class:: documentation-contents</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;  **Contents**:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">cnt</span><span class="p">,</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">):</span>
                <span class="n">_content</span> <span class="o">=</span> <span class="n">content</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    * `</span><span class="si">{0}</span><span class="s2"> &lt;</span><span class="si">{0}</span><span class="s2">.html&gt;`_</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">module_name</span><span class="p">))</span>
                <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">_content</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;        .. hidden-technical-block::</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;          :label: [+ show/hide members]</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;          :starthidden: true</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">rpath</span> <span class="ow">in</span> <span class="n">_content</span><span class="p">:</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;          `</span><span class="si">{0}</span><span class="s2"> &lt;</span><span class="si">{1}</span><span class="s2">.html&gt;`_</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                            <span class="n">path</span><span class="p">,</span> <span class="n">rpath</span><span class="p">))</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_search">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_search">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_search</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate the search page.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating search page in </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">))</span>

        <span class="c1"># Get full output filename path</span>
        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">,</span> <span class="s2">&quot;search&quot;</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst_extension</span><span class="p">)</span>

        <span class="c1"># Start writing the documentation index</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Generating file </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">path</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
            <span class="n">w</span> <span class="o">=</span> <span class="n">open_file</span><span class="o">.</span><span class="n">write</span>

            <span class="c1"># Header</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. AUTO-GENERATED FILE -- DO NOT EDIT!</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Search in API documentation of ``</span><span class="si">{0}</span><span class="s2">``</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">root_module_name</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span>
            <span class="n">w</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Search</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. raw:: html</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;!-- Block section --&gt;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;div class=&#39;my-search-bar&#39;&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;i class=&#39;icon fa fa-search&#39;&gt;&lt;/i&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;input type=&#39;text&#39; id=&#39;my-search&#39; onkeyup=&#39;mySearch()&#39; &quot;</span>
              <span class="s2">&quot;placeholder=&#39;Search for functions &amp; classes...&#39; title=&#39;Search&#39;&gt;&quot;</span>
              <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;/div&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;ul id=&#39;my-search-entries&#39;&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="n">entries</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">module_name</span><span class="p">,</span> <span class="n">submodule_item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_members</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">submod_members</span> <span class="ow">in</span> <span class="n">submodule_item</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                    <span class="n">kdata</span> <span class="o">=</span> <span class="n">submod_members</span><span class="p">[</span><span class="s2">&quot;classes&quot;</span><span class="p">]</span>
                    <span class="n">fdata</span> <span class="o">=</span> <span class="n">submod_members</span><span class="p">[</span><span class="s2">&quot;functions&quot;</span><span class="p">]</span>
                    <span class="k">for</span> <span class="n">klass</span><span class="p">,</span> <span class="p">(</span><span class="n">rklass</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">kdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">entries</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">klass</span><span class="p">,</span> <span class="n">rklass</span> <span class="o">+</span> <span class="s2">&quot;.html&quot;</span><span class="p">))</span>
                    <span class="k">for</span> <span class="n">func</span><span class="p">,</span> <span class="p">(</span><span class="n">rfunc</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">fdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                        <span class="n">entries</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">func</span><span class="p">,</span> <span class="n">rfunc</span> <span class="o">+</span> <span class="s2">&quot;.html&quot;</span><span class="p">))</span>
            <span class="n">entries</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">entries</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">item</span><span class="p">:</span> <span class="n">item</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">url</span> <span class="ow">in</span> <span class="n">entries</span><span class="p">:</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;        &lt;li&gt;&lt;a href=&#39;</span><span class="si">{0}</span><span class="s2">&#39;&gt;</span><span class="si">{1}</span><span class="s2">&lt;/a&gt;&lt;/li&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">name</span><span class="p">))</span>
            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    &lt;/ul&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.generate_documentation_index_entry">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.generate_documentation_index_entry">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">generate_documentation_index_entry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">module_name</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate a new entry in the dicumentation index.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        module_name: string</span>
<span class="sd">            the name of the module we want to index.</span>
<span class="sd">        ident: int</span>
<span class="sd">            the number of blank prefix.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        ad: string</span>
<span class="sd">            the reST formated index description.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Try to get the module description</span>
        <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="n">module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="vm">__doc__</span>

        <span class="c1"># Then reST formatting</span>
        <span class="n">spacer</span> <span class="o">=</span> <span class="s2">&quot; &quot;</span> <span class="o">*</span> <span class="n">indent</span>
        <span class="n">ad</span> <span class="o">=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;&lt;div class=&#39;col-md-4&#39;&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;&lt;h3&gt;&lt;a href=&#39;</span><span class="si">{0}</span><span class="s2">.html&#39;&gt;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
        <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;&lt;/a&gt;&lt;/h3&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;&lt;blockquote&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="k">if</span> <span class="n">description</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst2html</span><span class="p">(</span><span class="n">description</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="n">indent</span><span class="p">)</span>
        <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;&lt;/blockquote&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>
        <span class="n">ad</span> <span class="o">+=</span> <span class="n">spacer</span> <span class="o">+</span> <span class="s2">&quot;&lt;/div&gt;</span><span class="se">\n</span><span class="s2">&quot;</span>

        <span class="k">return</span> <span class="n">ad</span></div>


<div class="viewcode-block" id="DocHelperWriter.getmembers">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.getmembers">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">getmembers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">mod</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Return the members of a module.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">mod_name</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="vm">__name__</span>
        <span class="n">add_members</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="s2">&quot;__all__&quot;</span><span class="p">):</span>
            <span class="n">add_members</span> <span class="o">=</span> <span class="n">mod</span><span class="o">.</span><span class="n">__all__</span>
        <span class="n">funcs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">.</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">key</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isfunction</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">add_members</span> <span class="ow">or</span> <span class="n">val</span><span class="o">.</span><span class="vm">__module__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">mod_name</span><span class="p">))</span>
        <span class="n">classes</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span>
            <span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">.</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">val</span><span class="o">.</span><span class="vm">__module__</span><span class="p">,</span> <span class="n">key</span><span class="p">),</span> <span class="n">val</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">inspect</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">mod</span><span class="p">,</span> <span class="n">inspect</span><span class="o">.</span><span class="n">isclass</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">add_members</span> <span class="ow">or</span> <span class="n">val</span><span class="o">.</span><span class="vm">__module__</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">mod_name</span><span class="p">))</span>
        <span class="n">unique_functions</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">unique_classes</span> <span class="o">=</span> <span class="nb">set</span><span class="p">()</span>
        <span class="n">members</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;classes&quot;</span><span class="p">:</span> <span class="n">classes</span><span class="p">,</span> <span class="s2">&quot;functions&quot;</span><span class="p">:</span> <span class="n">funcs</span><span class="p">}</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">struct</span> <span class="ow">in</span> <span class="n">members</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">_struct</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">val</span> <span class="ow">in</span> <span class="n">struct</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">mkey</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="si">{0}</span><span class="s2">.</span><span class="si">{1}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod_name</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">name</span> <span class="o">==</span> <span class="s2">&quot;functions&quot;</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">add_members</span><span class="p">:</span>
                        <span class="n">unique_functions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">unique_functions</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mkey</span><span class="p">)</span>
                <span class="k">else</span><span class="p">:</span>
                    <span class="k">if</span> <span class="n">key</span> <span class="ow">in</span> <span class="n">add_members</span><span class="p">:</span>
                        <span class="n">unique_classes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">val</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
                    <span class="k">else</span><span class="p">:</span>
                        <span class="n">unique_classes</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">mkey</span><span class="p">)</span>
                <span class="n">_struct</span><span class="p">[</span><span class="n">mkey</span><span class="p">]</span> <span class="o">=</span> <span class="n">val</span>
            <span class="n">members</span><span class="p">[</span><span class="n">name</span><span class="p">]</span> <span class="o">=</span> <span class="n">collections</span><span class="o">.</span><span class="n">OrderedDict</span><span class="p">(</span><span class="nb">sorted</span><span class="p">(</span><span class="n">_struct</span><span class="o">.</span><span class="n">items</span><span class="p">()))</span>
        <span class="k">return</span> <span class="n">members</span><span class="p">,</span> <span class="n">unique_functions</span><span class="p">,</span> <span class="n">unique_classes</span></div>


<div class="viewcode-block" id="DocHelperWriter.getalias">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.getalias">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">getalias</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">members</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Return all the object alias within a module.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">key</span> <span class="ow">in</span> <span class="p">(</span><span class="s2">&quot;functions&quot;</span><span class="p">,</span> <span class="s2">&quot;classes&quot;</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="p">(</span><span class="n">rpath</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">members</span><span class="p">[</span><span class="n">key</span><span class="p">]</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">alias_map</span><span class="o">.</span><span class="n">setdefault</span><span class="p">(</span><span class="n">rpath</span><span class="p">,</span> <span class="nb">set</span><span class="p">())</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">path</span><span class="p">)</span></div>


<div class="viewcode-block" id="DocHelperWriter.write_api_docs">
<a class="viewcode-back" href="../../generated/pysphinxdoc.docgen.DocHelperWriter.html#pysphinxdoc.docgen.DocHelperWriter.write_api_docs">[docs]</a>
    <span class="k">def</span><span class="w"> </span><span class="nf">write_api_docs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">indent</span><span class="o">=</span><span class="mi">4</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot; Generate API reST files.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        indent: int</span>
<span class="sd">            The number of blank prefix.</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c1"># Welcome message</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[info] Generating documentation index in </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">))</span>

        <span class="c1"># Path written into index is relative to rootpath</span>
        <span class="n">outdir</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="o">.</span><span class="n">rstrip</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">sep</span><span class="p">)</span>
        <span class="n">relpath</span> <span class="o">=</span> <span class="n">outdir</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">generateddir</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>

        <span class="c1"># Generate reST API of each module</span>
        <span class="k">for</span> <span class="n">module_name</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">module_names</span><span class="p">:</span>

            <span class="c1"># Import the module</span>
            <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span>
            <span class="n">mod_members</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">alias_map</span> <span class="o">=</span> <span class="p">{}</span>
            <span class="n">members</span><span class="p">,</span> <span class="n">unique_functions</span><span class="p">,</span> <span class="n">unique_classes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span><span class="n">module</span><span class="p">)</span>
            <span class="n">mod_members</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">members</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">getalias</span><span class="p">(</span><span class="n">members</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">)</span>
            <span class="n">description</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>

            <span class="c1"># List all sub modules</span>
            <span class="n">submodules_list</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
                <span class="n">submodule_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">__path__</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">name</span><span class="p">)</span>
                <span class="n">submodule_name</span> <span class="o">=</span> <span class="n">module_name</span> <span class="o">+</span> <span class="s2">&quot;.&quot;</span> <span class="o">+</span> <span class="n">name</span>
                <span class="k">if</span> <span class="p">(</span><span class="n">submodule_path</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">)</span> <span class="ow">and</span>
                        <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">submodule_path</span><span class="p">)</span> <span class="ow">and</span>
                        <span class="n">name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;__init__.py&quot;</span><span class="p">,</span> <span class="s2">&quot;info.py&quot;</span><span class="p">]):</span>

                    <span class="c1"># Import the submodule</span>
                    <span class="n">submodule_name</span> <span class="o">=</span> <span class="n">submodule_name</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.py&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
                    <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">submodule_name</span><span class="p">)</span>
                    <span class="n">submodule</span> <span class="o">=</span> <span class="n">sys</span><span class="o">.</span><span class="n">modules</span><span class="p">[</span><span class="n">submodule_name</span><span class="p">]</span>
                    <span class="n">members</span><span class="p">,</span> <span class="n">sub_functions</span><span class="p">,</span> <span class="n">sub_classes</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">getmembers</span><span class="p">(</span>
                        <span class="n">submodule</span><span class="p">)</span>
                    <span class="n">mod_members</span><span class="p">[</span><span class="n">submodule_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">members</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">getalias</span><span class="p">(</span><span class="n">members</span><span class="p">,</span> <span class="n">alias_map</span><span class="p">)</span>
                    <span class="n">unique_functions</span> <span class="o">=</span> <span class="n">unique_functions</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">sub_functions</span><span class="p">)</span>
                    <span class="n">unique_classes</span> <span class="o">=</span> <span class="n">unique_classes</span><span class="o">.</span><span class="n">union</span><span class="p">(</span><span class="n">sub_classes</span><span class="p">)</span>
                    <span class="n">subdescription</span> <span class="o">=</span> <span class="n">submodule</span><span class="o">.</span><span class="vm">__doc__</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span>
                    <span class="n">submodules_list</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">submodule_name</span><span class="p">,</span> <span class="n">subdescription</span><span class="p">))</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">module_members</span><span class="p">[</span><span class="n">module_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">mod_members</span>
            <span class="n">pprint</span><span class="p">(</span><span class="n">mod_members</span><span class="p">)</span>
            <span class="n">pprint</span><span class="p">(</span><span class="n">alias_map</span><span class="p">)</span>

            <span class="c1"># Write module &amp; submodule API doc to file</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Unique functions: </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">unique_functions</span><span class="p">))</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Unique classes: </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">unique_classes</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">klass</span> <span class="ow">in</span> <span class="n">unique_classes</span><span class="p">:</span>
                <span class="n">outfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">outdir</span><span class="p">,</span> <span class="n">klass</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst_extension</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Generating file </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">outfile</span><span class="p">))</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="n">open_file</span><span class="o">.</span><span class="n">write</span>

                    <span class="c1"># Add header to tell us that this documentation must</span>
                    <span class="c1"># not be edited</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. AUTO-GENERATED FILE -- DO NOT EDIT!</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;:orphan:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. note::</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;     This page is a reference documentation. It only &quot;</span>
                      <span class="s2">&quot;explains the class signature, and not how to use &quot;</span>
                      <span class="s2">&quot;it. Please refer to the :ref:`gallery &quot;</span>
                      <span class="s2">&quot;&lt;sphx_glr_auto_gallery&gt;` for the big picture.</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. autoclass:: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">klass</span><span class="p">))</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;     :members:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;     :show-inheritance:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. minigallery:: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alias_map</span><span class="p">[</span><span class="n">klass</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">klass</span> <span class="ow">in</span> <span class="n">alias_map</span> <span class="k">else</span> <span class="n">klass</span><span class="p">))</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    :add-heading: Examples</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    :heading-level: -</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">for</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">unique_functions</span><span class="p">:</span>
                <span class="n">outfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">outdir</span><span class="p">,</span> <span class="n">func</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst_extension</span><span class="p">)</span>
                <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Generating file </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">outfile</span><span class="p">))</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
                    <span class="n">w</span> <span class="o">=</span> <span class="n">open_file</span><span class="o">.</span><span class="n">write</span>

                    <span class="c1"># Add header to tell us that this documentation must</span>
                    <span class="c1"># not be edited</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. AUTO-GENERATED FILE -- DO NOT EDIT!</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;:orphan:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. note::</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    This page is a reference documentation. It only &quot;</span>
                      <span class="s2">&quot;explains the function signature, and not how to use &quot;</span>
                      <span class="s2">&quot;it. Please refer to the :ref:`gallery &quot;</span>
                      <span class="s2">&quot;&lt;sphx_glr_auto_gallery&gt;` for the big picture.</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. autofunction:: </span><span class="si">{0}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">func</span><span class="p">))</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. minigallery:: </span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                        <span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">alias_map</span><span class="p">[</span><span class="n">func</span><span class="p">])</span>
                        <span class="k">if</span> <span class="n">func</span> <span class="ow">in</span> <span class="n">alias_map</span> <span class="k">else</span> <span class="n">func</span><span class="p">))</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    :add-heading: Examples</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    :heading-level: -</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

            <span class="c1"># Write module index to file</span>
            <span class="n">outfile</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">outdir</span><span class="p">,</span> <span class="n">module_name</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">rst_extension</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">verbose</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
                <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;[debug] Generating file </span><span class="si">{0}</span><span class="s2">.&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">outfile</span><span class="p">))</span>
            <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">outfile</span><span class="p">,</span> <span class="s2">&quot;wt&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">open_file</span><span class="p">:</span>
                <span class="n">w</span> <span class="o">=</span> <span class="n">open_file</span><span class="o">.</span><span class="n">write</span>

                <span class="c1"># Add header to tell us that this documentation must not be</span>
                <span class="c1"># edited</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. AUTO-GENERATED FILE -- DO NOT EDIT!</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="s2">&quot;:orphan:</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                <span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;API documentation of *</span><span class="si">{0}</span><span class="s2">*</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
                <span class="n">w</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">title</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>

                <span class="c1"># Add the list of members</span>
                <span class="k">for</span> <span class="n">mod_name</span><span class="p">,</span> <span class="n">desc</span> <span class="ow">in</span> <span class="p">(</span>
                        <span class="p">[(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">description</span><span class="p">)]</span> <span class="o">+</span> <span class="n">submodules_list</span><span class="p">):</span>
                    <span class="n">desc</span> <span class="o">=</span> <span class="n">desc</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">strip</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="p">)</span>
                    <span class="n">kdata</span> <span class="o">=</span> <span class="n">mod_members</span><span class="p">[</span><span class="n">mod_name</span><span class="p">][</span><span class="s2">&quot;classes&quot;</span><span class="p">]</span>
                    <span class="n">fdata</span> <span class="o">=</span> <span class="n">mod_members</span><span class="p">[</span><span class="n">mod_name</span><span class="p">][</span><span class="s2">&quot;functions&quot;</span><span class="p">]</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">mod_name</span><span class="p">))</span>
                    <span class="n">w</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">rst_section_levels</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">*</span> <span class="nb">len</span><span class="p">(</span><span class="n">mod_name</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{0}</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">desc</span><span class="p">))</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">kdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;.. rst-class:: documentation-contents</span><span class="se">\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">kdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;  **Classes**:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">klass</span><span class="p">,</span> <span class="p">(</span><span class="n">rklass</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">kdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    * `</span><span class="si">{0}</span><span class="s2"> &lt;</span><span class="si">{1}</span><span class="s2">.html&gt;`_</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="n">klass</span><span class="p">,</span> <span class="n">rklass</span><span class="p">))</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">fdata</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;  **Functions**:</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
                        <span class="k">for</span> <span class="n">func</span><span class="p">,</span> <span class="p">(</span><span class="n">rfunc</span><span class="p">,</span> <span class="n">_</span><span class="p">)</span> <span class="ow">in</span> <span class="n">fdata</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
                            <span class="n">w</span><span class="p">(</span><span class="s2">&quot;    * `</span><span class="si">{0}</span><span class="s2"> &lt;</span><span class="si">{1}</span><span class="s2">.html&gt;`_</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                                <span class="n">func</span><span class="p">,</span> <span class="n">rfunc</span><span class="p">))</span>
                        <span class="n">w</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span></div>
</div>

</pre></div>
                    </div>
                <div class="spacer"></div>
		        
		        <!-- Footer -->
		        <div class="section-6-container section-container section-container-image-bg" id="section-6">
			        <div class="container">
			            <div class="row">
		                    <div class="col-md-5 offset-md-1 section-6-box wow fadeInDown">
                                <div class="section-6-title">
		                    	    <p>Follow us</p>
                                </div>
		                    	<div class="section-6-social">
			                    	<a href="https://www.facebook.com/pages/NeuroSpin/171075046414933"><i class="fab fa-facebook-f"></i></a>
									<a href="https://www.youtube.com/CEASaclay"><i class="fab fa-youtube"></i></a>
									<a href="https://twitter.com/neurospin_91"><i class="fab fa-twitter"></i></a>
									<a href="https://gaia.neurospin.fr"><i class="fa fa-link"></i></a>
                                    <p>&copy; 2025, pysphinxdoc developers <antoine.grigis@cea.fr></p>
		                    	</div>
		                    </div>
			            </div>
			        </div>
                </div>
	        
	        </div>
	        <!-- End content -->
        
        </div>
        <!-- End wrapper -->

        <!-- Javascript -->
		<script src="../../_static/js/jquery-3.3.1.min.js"></script>
		<script src="../../_static/js/jquery-migrate-3.0.0.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
        <script src="../../_static/js/jquery.backstretch.min.js"></script>
        <script src="../../_static/js/wow.min.js"></script>
        <script src="../../_static/js/jquery.waypoints.min.js"></script>
        <script src="../../_static/js/jquery.mCustomScrollbar.concat.min.js"></script>
        <script src="../../_static/js/scripts.js"></script>
        <script src="../../_static/js/jquery.mosaic.js"></script>
        <script src="../../_static/js/search.js"></script>
        <script type="text/javascript">
	        $('.top-content').backstretch("../../_static/img/backgrounds/banner1.png");
            $('.section-6-container').backstretch("../../_static/img/backgrounds/footer1.png");
        </script>

    </body>

</html>